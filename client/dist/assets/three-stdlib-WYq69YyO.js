import{Q as $t,a9 as Vn,aa as Tt,ab as en,M as tn,ac as zn,c as qn,ad as nn,i as rn,ae as at,h as ft,u as Xe,af as $n,ag as er,ah as tr,g as it,ai as He,r as sn,a6 as Ve,V as De,aj as nr,ak as rr,Y as on,K as sr,al as or,am as At,an as ir,L as ze,ao as an,ap as vt,aq as ar,t as Et,ar as Ar,as as An,at as cr,s as yt,au as Br,av as lr,aw as ur,ax as hr,ay as Cr,az as mt,o as fr,G as dr,O as pr,aA as Er,aB as mr,aC as Fr,aD as cn,a5 as Bn,a4 as Ir,aE as Gr,aF as Mr,aG as gr,C as Rr,aH as Dr,aI as Tr,aJ as vr,aK as Hr,T as Ht,aL as kt,aM as Qt,aN as Xt,Z as Sr,_ as br,aO as Lr,aP as Ft,aQ as ln,H as Ne,F as je,aR as Ye,R as Jr,aS as yr}from"./three-D3BE0AKv.js";const Ur=parseInt($t.replace(/\D+/g,""));function Zt(u,e){if(e===Vn)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),u;if(e===Tt||e===en){let t=u.getIndex();if(t===null){const s=[],c=u.getAttribute("position");if(c!==void 0){for(let A=0;A<c.count;A++)s.push(A);u.setIndex(s),t=u.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),u}const i=t.count-2,r=[];if(t)if(e===Tt)for(let s=1;s<=i;s++)r.push(t.getX(0)),r.push(t.getX(s)),r.push(t.getX(s+1));else for(let s=0;s<i;s++)s%2===0?(r.push(t.getX(s)),r.push(t.getX(s+1)),r.push(t.getX(s+2))):(r.push(t.getX(s+2)),r.push(t.getX(s+1)),r.push(t.getX(s)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=u.clone();return o.setIndex(r),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),u}var Ge=Uint8Array,xe=Uint16Array,St=Uint32Array,un=new Ge([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hn=new Ge([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wr=new Ge([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cn=function(u,e){for(var t=new xe(31),i=0;i<31;++i)t[i]=e+=1<<u[i-1];for(var r=new St(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)r[o]=o-t[i]<<5|i;return[t,r]},fn=Cn(un,2),dn=fn[0],_r=fn[1];dn[28]=258,_r[258]=28;var Or=Cn(hn,0),Nr=Or[0],bt=new xe(32768);for(var oe=0;oe<32768;++oe){var _e=(oe&43690)>>>1|(oe&21845)<<1;_e=(_e&52428)>>>2|(_e&13107)<<2,_e=(_e&61680)>>>4|(_e&3855)<<4,bt[oe]=((_e&65280)>>>8|(_e&255)<<8)>>>1}var ct=function(u,e,t){for(var i=u.length,r=0,o=new xe(e);r<i;++r)++o[u[r]-1];var s=new xe(e);for(r=0;r<e;++r)s[r]=s[r-1]+o[r-1]<<1;var c;if(t){c=new xe(1<<e);var A=15-e;for(r=0;r<i;++r)if(u[r])for(var B=r<<4|u[r],C=e-u[r],h=s[u[r]-1]++<<C,f=h|(1<<C)-1;h<=f;++h)c[bt[h]>>>A]=B}else for(c=new xe(i),r=0;r<i;++r)u[r]&&(c[r]=bt[s[u[r]-1]++]>>>15-u[r]);return c},Bt=new Ge(288);for(var oe=0;oe<144;++oe)Bt[oe]=8;for(var oe=144;oe<256;++oe)Bt[oe]=9;for(var oe=256;oe<280;++oe)Bt[oe]=7;for(var oe=280;oe<288;++oe)Bt[oe]=8;var pn=new Ge(32);for(var oe=0;oe<32;++oe)pn[oe]=5;var xr=ct(Bt,9,1),Pr=ct(pn,5,1),It=function(u){for(var e=u[0],t=1;t<u.length;++t)u[t]>e&&(e=u[t]);return e},Re=function(u,e,t){var i=e/8|0;return(u[i]|u[i+1]<<8)>>(e&7)&t},Gt=function(u,e){var t=e/8|0;return(u[t]|u[t+1]<<8|u[t+2]<<16)>>(e&7)},Kr=function(u){return(u/8|0)+(u&7&&1)},kr=function(u,e,t){(t==null||t>u.length)&&(t=u.length);var i=new(u instanceof xe?xe:u instanceof St?St:Ge)(t-e);return i.set(u.subarray(e,t)),i},Qr=function(u,e,t){var i=u.length;if(!i||t&&!t.l&&i<5)return e||new Ge(0);var r=!e||t,o=!t||t.i;t||(t={}),e||(e=new Ge(i*3));var s=function(z){var Se=e.length;if(z>Se){var be=new Ge(Math.max(Se*2,z));be.set(e),e=be}},c=t.f||0,A=t.p||0,B=t.b||0,C=t.l,h=t.d,f=t.m,I=t.n,G=i*8;do{if(!C){t.f=c=Re(u,A,1);var m=Re(u,A+1,3);if(A+=3,m)if(m==1)C=xr,h=Pr,f=9,I=5;else if(m==2){var b=Re(u,A,31)+257,_=Re(u,A+10,15)+4,X=b+Re(u,A+5,31)+1;A+=14;for(var x=new Ge(X),ee=new Ge(19),D=0;D<_;++D)ee[wr[D]]=Re(u,A+D*3,7);A+=_*3;for(var y=It(ee),O=(1<<y)-1,j=ct(ee,y,1),D=0;D<X;){var Y=j[Re(u,A,O)];A+=Y&15;var F=Y>>>4;if(F<16)x[D++]=F;else{var W=0,N=0;for(F==16?(N=3+Re(u,A,3),A+=2,W=x[D-1]):F==17?(N=3+Re(u,A,7),A+=3):F==18&&(N=11+Re(u,A,127),A+=7);N--;)x[D++]=W}}var ie=x.subarray(0,b),k=x.subarray(b);f=It(ie),I=It(k),C=ct(ie,f,1),h=ct(k,I,1)}else throw"invalid block type";else{var F=Kr(A)+4,M=u[F-4]|u[F-3]<<8,L=F+M;if(L>i){if(o)throw"unexpected EOF";break}r&&s(B+M),e.set(u.subarray(F,L),B),t.b=B+=M,t.p=A=L*8;continue}if(A>G){if(o)throw"unexpected EOF";break}}r&&s(B+131072);for(var Me=(1<<f)-1,Pe=(1<<I)-1,ge=A;;ge=A){var W=C[Gt(u,A)&Me],re=W>>>4;if(A+=W&15,A>G){if(o)throw"unexpected EOF";break}if(!W)throw"invalid length/literal";if(re<256)e[B++]=re;else if(re==256){ge=A,C=null;break}else{var Ue=re-254;if(re>264){var D=re-257,ae=un[D];Ue=Re(u,A,(1<<ae)-1)+dn[D],A+=ae}var ue=h[Gt(u,A)&Pe],Te=ue>>>4;if(!ue)throw"invalid distance";A+=ue&15;var k=Nr[Te];if(Te>3){var ae=hn[Te];k+=Gt(u,A)&(1<<ae)-1,A+=ae}if(A>G){if(o)throw"unexpected EOF";break}r&&s(B+131072);for(var qe=B+Ue;B<qe;B+=4)e[B]=e[B-k],e[B+1]=e[B+1-k],e[B+2]=e[B+2-k],e[B+3]=e[B+3-k];B=qe}}t.l=C,t.p=ge,t.b=B,C&&(c=1,t.m=f,t.d=h,t.n=I)}while(!c);return B==e.length?e:kr(e,0,B)},Xr=new Ge(0),Zr=function(u){if((u[0]&15)!=8||u[0]>>>4>7||(u[0]<<8|u[1])%31)throw"invalid zlib data";if(u[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function ht(u,e){return Qr((Zr(u),u.subarray(2,-4)),e)}var Yr=typeof TextDecoder<"u"&&new TextDecoder,jr=0;try{Yr.decode(Xr,{stream:!0}),jr=1}catch{}const Wr=u=>u&&u.isCubeTexture;class Js extends tn{constructor(e,t){var i,r;const o=Wr(e),c=((r=o?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,A=Math.floor(Math.log2(c)),B=Math.pow(2,A),C=3*Math.max(B,16*7),h=4*B,f=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/C}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${A}.0`],I=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,G=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt($t.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,m={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},F=new zn(1,16),M=new qn({uniforms:m,fragmentShader:G,vertexShader:I,side:nn});super(F,M)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}function dt(u){if(typeof TextDecoder<"u")return new TextDecoder().decode(u);let e="";for(let t=0,i=u.length;t<i;t++)e+=String.fromCharCode(u[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Qe="srgb",ye="srgb-linear",Yt=3001,Vr=3e3;class ys extends rn{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ts(t)}),this.register(function(t){return new ns(t)}),this.register(function(t){return new ls(t)}),this.register(function(t){return new us(t)}),this.register(function(t){return new hs(t)}),this.register(function(t){return new ss(t)}),this.register(function(t){return new os(t)}),this.register(function(t){return new is(t)}),this.register(function(t){return new as(t)}),this.register(function(t){return new es(t)}),this.register(function(t){return new As(t)}),this.register(function(t){return new rs(t)}),this.register(function(t){return new Bs(t)}),this.register(function(t){return new cs(t)}),this.register(function(t){return new qr(t)}),this.register(function(t){return new Cs(t)}),this.register(function(t){return new fs(t)})}load(e,t,i,r){const o=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const B=at.extractUrlBase(e);s=at.resolveURL(B,this.path)}else s=at.extractUrlBase(e);this.manager.itemStart(e);const c=function(B){r?r(B):console.error(B),o.manager.itemError(e),o.manager.itemEnd(e)},A=new ft(this.manager);A.setPath(this.path),A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(e,function(B){try{o.parse(B,s,function(C){t(C),o.manager.itemEnd(e)},c)}catch(C){c(C)}},i,c)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let o;const s={},c={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(dt(new Uint8Array(e.slice(0,4)))===En){try{s[Q.KHR_BINARY_GLTF]=new ds(e)}catch(C){r&&r(C);return}o=JSON.parse(s[Q.KHR_BINARY_GLTF].content)}else o=JSON.parse(dt(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const A=new Hs(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});A.fileLoader.setRequestHeader(this.requestHeader);for(let B=0;B<this.pluginCallbacks.length;B++){const C=this.pluginCallbacks[B](A);C.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[C.name]=C,s[C.name]=!0}if(o.extensionsUsed)for(let B=0;B<o.extensionsUsed.length;++B){const C=o.extensionsUsed[B],h=o.extensionsRequired||[];switch(C){case Q.KHR_MATERIALS_UNLIT:s[C]=new $r;break;case Q.KHR_DRACO_MESH_COMPRESSION:s[C]=new ps(o,this.dracoLoader);break;case Q.KHR_TEXTURE_TRANSFORM:s[C]=new Es;break;case Q.KHR_MESH_QUANTIZATION:s[C]=new ms;break;default:h.indexOf(C)>=0&&c[C]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+C+'".')}}A.setExtensions(s),A.setPlugins(c),A.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,o){i.parse(e,t,r,o)})}}function zr(){let u={};return{get:function(e){return u[e]},add:function(e,t){u[e]=t},remove:function(e){delete u[e]},removeAll:function(){u={}}}}const Q={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class qr{constructor(e){this.parser=e,this.name=Q.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const o=t[i];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const o=t.json,A=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let B;const C=new Xe(16777215);A.color!==void 0&&C.setRGB(A.color[0],A.color[1],A.color[2],ye);const h=A.range!==void 0?A.range:0;switch(A.type){case"directional":B=new tr(C),B.target.position.set(0,0,-1),B.add(B.target);break;case"point":B=new er(C),B.distance=h;break;case"spot":B=new $n(C),B.distance=h,A.spot=A.spot||{},A.spot.innerConeAngle=A.spot.innerConeAngle!==void 0?A.spot.innerConeAngle:0,A.spot.outerConeAngle=A.spot.outerConeAngle!==void 0?A.spot.outerConeAngle:Math.PI/4,B.angle=A.spot.outerConeAngle,B.penumbra=1-A.spot.innerConeAngle/A.spot.outerConeAngle,B.target.position.set(0,0,-1),B.add(B.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+A.type)}return B.position.set(0,0,0),B.decay=2,Je(B,A),A.intensity!==void 0&&(B.intensity=A.intensity),B.name=t.createUniqueName(A.name||"light_"+e),r=Promise.resolve(B),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,o=i.json.nodes[e],c=(o.extensions&&o.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(A){return i._getNodeRef(t.cache,c,A)})}}class $r{constructor(){this.name=Q.KHR_MATERIALS_UNLIT}getMaterialType(){return it}extendParams(e,t,i){const r=[];e.color=new Xe(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const s=o.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],ye),e.opacity=s[3]}o.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",o.baseColorTexture,Qe))}return Promise.all(r)}}class es{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class ts{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&o.push(i.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&o.push(i.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(o.push(i.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const c=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new sn(c,c)}return Promise.all(o)}}class ns{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class rs{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&o.push(i.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&o.push(i.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(o)}}class ss{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new Xe(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(s.sheenColorFactor!==void 0){const c=s.sheenColorFactor;t.sheenColor.setRGB(c[0],c[1],c[2],ye)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&o.push(i.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Qe)),s.sheenRoughnessTexture!==void 0&&o.push(i.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class os{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&o.push(i.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(o)}}class is{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&o.push(i.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const c=s.attenuationColor||[1,1,1];return t.attenuationColor=new Xe().setRGB(c[0],c[1],c[2],ye),Promise.all(o)}}class as{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class As{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&o.push(i.assignTexture(t,"specularIntensityMap",s.specularTexture));const c=s.specularColorFactor||[1,1,1];return t.specularColor=new Xe().setRGB(c[0],c[1],c[2],ye),s.specularColorTexture!==void 0&&o.push(i.assignTexture(t,"specularColorMap",s.specularColorTexture,Qe)),Promise.all(o)}}class cs{constructor(e){this.parser=e,this.name=Q.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&o.push(i.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(o)}}class Bs{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:He}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&o.push(i.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(o)}}class ls{constructor(e){this.parser=e,this.name=Q.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const o=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,s)}}class us{constructor(e){this.parser=e,this.name=Q.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],c=r.images[s.source];let A=i.textureLoader;if(c.uri){const B=i.options.manager.getHandler(c.uri);B!==null&&(A=B)}return this.detectSupport().then(function(B){if(B)return i.loadTextureImage(e,s.source,A);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class hs{constructor(e){this.parser=e,this.name=Q.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],c=r.images[s.source];let A=i.textureLoader;if(c.uri){const B=i.options.manager.getHandler(c.uri);B!==null&&(A=B)}return this.detectSupport().then(function(B){if(B)return i.loadTextureImage(e,s.source,A);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Cs{constructor(e){this.name=Q.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],o=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(c){const A=r.byteOffset||0,B=r.byteLength||0,C=r.count,h=r.byteStride,f=new Uint8Array(c,A,B);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(C,h,f,r.mode,r.filter).then(function(I){return I.buffer}):s.ready.then(function(){const I=new ArrayBuffer(C*h);return s.decodeGltfBuffer(new Uint8Array(I),C,h,f,r.mode,r.filter),I})})}else return null}}class fs{constructor(e){this.name=Q.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const B of r.primitives)if(B.mode!==Ie.TRIANGLES&&B.mode!==Ie.TRIANGLE_STRIP&&B.mode!==Ie.TRIANGLE_FAN&&B.mode!==void 0)return null;const s=i.extensions[this.name].attributes,c=[],A={};for(const B in s)c.push(this.parser.getDependency("accessor",s[B]).then(C=>(A[B]=C,A[B])));return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(B=>{const C=B.pop(),h=C.isGroup?C.children:[C],f=B[0].count,I=[];for(const G of h){const m=new Ve,F=new De,M=new Bn,L=new De(1,1,1),b=new nr(G.geometry,G.material,f);for(let _=0;_<f;_++)A.TRANSLATION&&F.fromBufferAttribute(A.TRANSLATION,_),A.ROTATION&&M.fromBufferAttribute(A.ROTATION,_),A.SCALE&&L.fromBufferAttribute(A.SCALE,_),b.setMatrixAt(_,m.compose(F,M,L));for(const _ in A)if(_==="_COLOR_0"){const X=A[_];b.instanceColor=new rr(X.array,X.itemSize,X.normalized)}else _!=="TRANSLATION"&&_!=="ROTATION"&&_!=="SCALE"&&G.geometry.setAttribute(_,A[_]);on.prototype.copy.call(b,G),this.parser.assignFinalMaterial(b),I.push(b)}return C.isGroup?(C.clear(),C.add(...I),C):I[0]}))}}const En="glTF",st=12,jt={JSON:1313821514,BIN:5130562};class ds{constructor(e){this.name=Q.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,st);if(this.header={magic:dt(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==En)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-st,r=new DataView(e,st);let o=0;for(;o<i;){const s=r.getUint32(o,!0);o+=4;const c=r.getUint32(o,!0);if(o+=4,c===jt.JSON){const A=new Uint8Array(e,st+o,s);this.content=dt(A)}else if(c===jt.BIN){const A=st+o;this.body=e.slice(A,A+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ps{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Q.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,c={},A={},B={};for(const C in s){const h=Lt[C]||C.toLowerCase();c[h]=s[C]}for(const C in e.attributes){const h=Lt[C]||C.toLowerCase();if(s[C]!==void 0){const f=i.accessors[e.attributes[C]],I=We[f.componentType];B[h]=I.name,A[h]=f.normalized===!0}}return t.getDependency("bufferView",o).then(function(C){return new Promise(function(h,f){r.decodeDracoFile(C,function(I){for(const G in I.attributes){const m=I.attributes[G],F=A[G];F!==void 0&&(m.normalized=F)}h(I)},c,B,ye,f)})})}}class Es{constructor(){this.name=Q.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class ms{constructor(){this.name=Q.KHR_MESH_QUANTIZATION}}class mn extends Lr{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r*3+r;for(let s=0;s!==r;s++)t[s]=i[o+s];return t}interpolate_(e,t,i,r){const o=this.resultBuffer,s=this.sampleValues,c=this.valueSize,A=c*2,B=c*3,C=r-t,h=(i-t)/C,f=h*h,I=f*h,G=e*B,m=G-B,F=-2*I+3*f,M=I-f,L=1-F,b=M-f+h;for(let _=0;_!==c;_++){const X=s[m+_+c],x=s[m+_+A]*C,ee=s[G+_+c],D=s[G+_]*C;o[_]=L*X+b*x+F*ee+M*D}return o}}const Fs=new Bn;class Is extends mn{interpolate_(e,t,i,r){const o=super.interpolate_(e,t,i,r);return Fs.fromArray(o).normalize().toArray(o),o}}const Ie={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},We={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Wt={9728:Ir,9729:ze,9984:Gr,9985:Mr,9986:gr,9987:an},Vt={33071:Rr,33648:Dr,10497:vt},Mt={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Lt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Ur>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Oe={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Gs={CUBICSPLINE:void 0,LINEAR:cn,STEP:Tr},gt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ms(u){return u.DefaultMaterial===void 0&&(u.DefaultMaterial=new An({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:vr})),u.DefaultMaterial}function ke(u,e,t){for(const i in t.extensions)u[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Je(u,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(u.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function gs(u,e,t){let i=!1,r=!1,o=!1;for(let B=0,C=e.length;B<C;B++){const h=e[B];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(o=!0),i&&r&&o)break}if(!i&&!r&&!o)return Promise.resolve(u);const s=[],c=[],A=[];for(let B=0,C=e.length;B<C;B++){const h=e[B];if(i){const f=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):u.attributes.position;s.push(f)}if(r){const f=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):u.attributes.normal;c.push(f)}if(o){const f=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):u.attributes.color;A.push(f)}}return Promise.all([Promise.all(s),Promise.all(c),Promise.all(A)]).then(function(B){const C=B[0],h=B[1],f=B[2];return i&&(u.morphAttributes.position=C),r&&(u.morphAttributes.normal=h),o&&(u.morphAttributes.color=f),u.morphTargetsRelative=!0,u})}function Rs(u,e){if(u.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)u.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(u.morphTargetInfluences.length===t.length){u.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)u.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ds(u){let e;const t=u.extensions&&u.extensions[Q.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Rt(t.attributes):e=u.indices+":"+Rt(u.attributes)+":"+u.mode,u.targets!==void 0)for(let i=0,r=u.targets.length;i<r;i++)e+=":"+Rt(u.targets[i]);return e}function Rt(u){let e="";const t=Object.keys(u).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+u[t[i]]+";";return e}function Jt(u){switch(u){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ts(u){return u.search(/\.jpe?g($|\?)/i)>0||u.search(/^data\:image\/jpeg/)===0?"image/jpeg":u.search(/\.webp($|\?)/i)>0||u.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const vs=new Ve;class Hs{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new zr,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,o=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&o<98?this.textureLoader=new sr(this.options.manager):this.textureLoader=new or(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ft(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(s){const c={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:i,userData:{}};return ke(o,c,r),Je(c,r),Promise.all(i._invokeAll(function(A){return A.afterRoot&&A.afterRoot(c)})).then(function(){for(const A of c.scenes)A.updateMatrixWorld();e(c)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,o=t.length;r<o;r++){const s=t[r].joints;for(let c=0,A=s.length;c<A;c++)e[s[c]].isBone=!0}for(let r=0,o=e.length;r<o;r++){const s=e[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(i[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),o=(s,c)=>{const A=this.associations.get(s);A!=null&&this.associations.set(c,A);for(const[B,C]of s.children.entries())o(C,c.children[B])};return o(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const o=e(t[r]);o&&i.push(o)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":r=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(o,s){return i.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Q.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(o,s){i.load(at.resolveURL(t.uri,r.path),o,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,o=t.byteOffset||0;return i.slice(o,o+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const s=Mt[r.type],c=We[r.componentType],A=r.normalized===!0,B=new c(r.count*s);return Promise.resolve(new At(B,s,A))}const o=[];return r.bufferView!==void 0?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),r.sparse!==void 0&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then(function(s){const c=s[0],A=Mt[r.type],B=We[r.componentType],C=B.BYTES_PER_ELEMENT,h=C*A,f=r.byteOffset||0,I=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,G=r.normalized===!0;let m,F;if(I&&I!==h){const M=Math.floor(f/I),L="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+M+":"+r.count;let b=t.cache.get(L);b||(m=new B(c,M*I,r.count*I/C),b=new ir(m,I/C),t.cache.add(L,b)),F=new Hr(b,A,f%I/C,G)}else c===null?m=new B(r.count*A):m=new B(c,f,r.count*A),F=new At(m,A,G);if(r.sparse!==void 0){const M=Mt.SCALAR,L=We[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,_=r.sparse.values.byteOffset||0,X=new L(s[1],b,r.sparse.count*M),x=new B(s[2],_,r.sparse.count*A);c!==null&&(F=new At(F.array.slice(),F.itemSize,F.normalized));for(let ee=0,D=X.length;ee<D;ee++){const y=X[ee];if(F.setX(y,x[ee*A]),A>=2&&F.setY(y,x[ee*A+1]),A>=3&&F.setZ(y,x[ee*A+2]),A>=4&&F.setW(y,x[ee*A+3]),A>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return F})}loadTexture(e){const t=this.json,i=this.options,o=t.textures[e].source,s=t.images[o];let c=this.textureLoader;if(s.uri){const A=i.manager.getHandler(s.uri);A!==null&&(c=A)}return this.loadTextureImage(e,o,c)}loadTextureImage(e,t,i){const r=this,o=this.json,s=o.textures[e],c=o.images[t],A=(c.uri||c.bufferView)+":"+s.sampler;if(this.textureCache[A])return this.textureCache[A];const B=this.loadImageSource(t,i).then(function(C){C.flipY=!1,C.name=s.name||c.name||"",C.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(C.name=c.uri);const f=(o.samplers||{})[s.sampler]||{};return C.magFilter=Wt[f.magFilter]||ze,C.minFilter=Wt[f.minFilter]||an,C.wrapS=Vt[f.wrapS]||vt,C.wrapT=Vt[f.wrapT]||vt,r.associations.set(C,{textures:e}),C}).catch(function(){return null});return this.textureCache[A]=B,B}loadImageSource(e,t){const i=this,r=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const s=r.images[e],c=self.URL||self.webkitURL;let A=s.uri||"",B=!1;if(s.bufferView!==void 0)A=i.getDependency("bufferView",s.bufferView).then(function(h){B=!0;const f=new Blob([h],{type:s.mimeType});return A=c.createObjectURL(f),A});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const C=Promise.resolve(A).then(function(h){return new Promise(function(f,I){let G=f;t.isImageBitmapLoader===!0&&(G=function(m){const F=new Ht(m);F.needsUpdate=!0,f(F)}),t.load(at.resolveURL(h,o.path),G,void 0,I)})}).then(function(h){return B===!0&&c.revokeObjectURL(A),Je(h,s),h.userData.mimeType=s.mimeType||Ts(s.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",A),h});return this.sourceCache[e]=C,C}assignTexture(e,t,i,r){const o=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(s=s.clone(),s.channel=i.texCoord),o.extensions[Q.KHR_TEXTURE_TRANSFORM]){const c=i.extensions!==void 0?i.extensions[Q.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const A=o.associations.get(s);s=o.extensions[Q.KHR_TEXTURE_TRANSFORM].extendTexture(s,c),o.associations.set(s,A)}}return r!==void 0&&(typeof r=="number"&&(r=r===Yt?Qe:ye),"colorSpace"in s?s.colorSpace=r:s.encoding=r===Qe?Yt:Vr),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const c="PointsMaterial:"+i.uuid;let A=this.cache.get(c);A||(A=new ar,Et.prototype.copy.call(A,i),A.color.copy(i.color),A.map=i.map,A.sizeAttenuation=!1,this.cache.add(c,A)),i=A}else if(e.isLine){const c="LineBasicMaterial:"+i.uuid;let A=this.cache.get(c);A||(A=new Ar,Et.prototype.copy.call(A,i),A.color.copy(i.color),A.map=i.map,this.cache.add(c,A)),i=A}if(r||o||s){let c="ClonedMaterial:"+i.uuid+":";r&&(c+="derivative-tangents:"),o&&(c+="vertex-colors:"),s&&(c+="flat-shading:");let A=this.cache.get(c);A||(A=i.clone(),o&&(A.vertexColors=!0),s&&(A.flatShading=!0),r&&(A.normalScale&&(A.normalScale.y*=-1),A.clearcoatNormalScale&&(A.clearcoatNormalScale.y*=-1)),this.cache.add(c,A),this.associations.set(A,this.associations.get(i))),i=A}e.material=i}getMaterialType(){return An}loadMaterial(e){const t=this,i=this.json,r=this.extensions,o=i.materials[e];let s;const c={},A=o.extensions||{},B=[];if(A[Q.KHR_MATERIALS_UNLIT]){const h=r[Q.KHR_MATERIALS_UNLIT];s=h.getMaterialType(),B.push(h.extendParams(c,o,t))}else{const h=o.pbrMetallicRoughness||{};if(c.color=new Xe(1,1,1),c.opacity=1,Array.isArray(h.baseColorFactor)){const f=h.baseColorFactor;c.color.setRGB(f[0],f[1],f[2],ye),c.opacity=f[3]}h.baseColorTexture!==void 0&&B.push(t.assignTexture(c,"map",h.baseColorTexture,Qe)),c.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,c.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(B.push(t.assignTexture(c,"metalnessMap",h.metallicRoughnessTexture)),B.push(t.assignTexture(c,"roughnessMap",h.metallicRoughnessTexture))),s=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),B.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,c)})))}o.doubleSided===!0&&(c.side=nn);const C=o.alphaMode||gt.OPAQUE;if(C===gt.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,C===gt.MASK&&(c.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&s!==it&&(B.push(t.assignTexture(c,"normalMap",o.normalTexture)),c.normalScale=new sn(1,1),o.normalTexture.scale!==void 0)){const h=o.normalTexture.scale;c.normalScale.set(h,h)}if(o.occlusionTexture!==void 0&&s!==it&&(B.push(t.assignTexture(c,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&s!==it){const h=o.emissiveFactor;c.emissive=new Xe().setRGB(h[0],h[1],h[2],ye)}return o.emissiveTexture!==void 0&&s!==it&&B.push(t.assignTexture(c,"emissiveMap",o.emissiveTexture,Qe)),Promise.all(B).then(function(){const h=new s(c);return o.name&&(h.name=o.name),Je(h,o),t.associations.set(h,{materials:e}),o.extensions&&ke(r,h,o),h})}createUniqueName(e){const t=cr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function o(c){return i[Q.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,t).then(function(A){return zt(A,c,t)})}const s=[];for(let c=0,A=e.length;c<A;c++){const B=e[c],C=Ds(B),h=r[C];if(h)s.push(h.promise);else{let f;B.extensions&&B.extensions[Q.KHR_DRACO_MESH_COMPRESSION]?f=o(B):f=zt(new yt,B,t),r[C]={primitive:B,promise:f},s.push(f)}}return Promise.all(s)}loadMesh(e){const t=this,i=this.json,r=this.extensions,o=i.meshes[e],s=o.primitives,c=[];for(let A=0,B=s.length;A<B;A++){const C=s[A].material===void 0?Ms(this.cache):this.getDependency("material",s[A].material);c.push(C)}return c.push(t.loadGeometries(s)),Promise.all(c).then(function(A){const B=A.slice(0,A.length-1),C=A[A.length-1],h=[];for(let I=0,G=C.length;I<G;I++){const m=C[I],F=s[I];let M;const L=B[I];if(F.mode===Ie.TRIANGLES||F.mode===Ie.TRIANGLE_STRIP||F.mode===Ie.TRIANGLE_FAN||F.mode===void 0)M=o.isSkinnedMesh===!0?new Br(m,L):new tn(m,L),M.isSkinnedMesh===!0&&M.normalizeSkinWeights(),F.mode===Ie.TRIANGLE_STRIP?M.geometry=Zt(M.geometry,en):F.mode===Ie.TRIANGLE_FAN&&(M.geometry=Zt(M.geometry,Tt));else if(F.mode===Ie.LINES)M=new lr(m,L);else if(F.mode===Ie.LINE_STRIP)M=new ur(m,L);else if(F.mode===Ie.LINE_LOOP)M=new hr(m,L);else if(F.mode===Ie.POINTS)M=new Cr(m,L);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+F.mode);Object.keys(M.geometry.morphAttributes).length>0&&Rs(M,o),M.name=t.createUniqueName(o.name||"mesh_"+e),Je(M,o),F.extensions&&ke(r,M,F),t.assignFinalMaterial(M),h.push(M)}for(let I=0,G=h.length;I<G;I++)t.associations.set(h[I],{meshes:e,primitives:I});if(h.length===1)return o.extensions&&ke(r,h[0],o),h[0];const f=new mt;o.extensions&&ke(r,f,o),t.associations.set(f,{meshes:e});for(let I=0,G=h.length;I<G;I++)f.add(h[I]);return f})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new fr(dr.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new pr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Je(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,o=t.joints.length;r<o;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const o=r.pop(),s=r,c=[],A=[];for(let B=0,C=s.length;B<C;B++){const h=s[B];if(h){c.push(h);const f=new Ve;o!==null&&f.fromArray(o.array,B*16),A.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[B])}return new Er(c,A)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],o=r.name?r.name:"animation_"+e,s=[],c=[],A=[],B=[],C=[];for(let h=0,f=r.channels.length;h<f;h++){const I=r.channels[h],G=r.samplers[I.sampler],m=I.target,F=m.node,M=r.parameters!==void 0?r.parameters[G.input]:G.input,L=r.parameters!==void 0?r.parameters[G.output]:G.output;m.node!==void 0&&(s.push(this.getDependency("node",F)),c.push(this.getDependency("accessor",M)),A.push(this.getDependency("accessor",L)),B.push(G),C.push(m))}return Promise.all([Promise.all(s),Promise.all(c),Promise.all(A),Promise.all(B),Promise.all(C)]).then(function(h){const f=h[0],I=h[1],G=h[2],m=h[3],F=h[4],M=[];for(let L=0,b=f.length;L<b;L++){const _=f[L],X=I[L],x=G[L],ee=m[L],D=F[L];if(_===void 0)continue;_.updateMatrix&&_.updateMatrix();const y=i._createAnimationTracks(_,X,x,ee,D);if(y)for(let O=0;O<y.length;O++)M.push(y[O])}return new mr(o,void 0,M)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(o){const s=i._getNodeRef(i.meshCache,r.mesh,o);return r.weights!==void 0&&s.traverse(function(c){if(c.isMesh)for(let A=0,B=r.weights.length;A<B;A++)c.morphTargetInfluences[A]=r.weights[A]}),s})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],o=i._loadNodeShallow(e),s=[],c=r.children||[];for(let B=0,C=c.length;B<C;B++)s.push(i.getDependency("node",c[B]));const A=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([o,Promise.all(s),A]).then(function(B){const C=B[0],h=B[1],f=B[2];f!==null&&C.traverse(function(I){I.isSkinnedMesh&&I.bind(f,vs)});for(let I=0,G=h.length;I<G;I++)C.add(h[I]);return C})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],s=o.name?r.createUniqueName(o.name):"",c=[],A=r._invokeOne(function(B){return B.createNodeMesh&&B.createNodeMesh(e)});return A&&c.push(A),o.camera!==void 0&&c.push(r.getDependency("camera",o.camera).then(function(B){return r._getNodeRef(r.cameraCache,o.camera,B)})),r._invokeAll(function(B){return B.createNodeAttachment&&B.createNodeAttachment(e)}).forEach(function(B){c.push(B)}),this.nodeCache[e]=Promise.all(c).then(function(B){let C;if(o.isBone===!0?C=new Fr:B.length>1?C=new mt:B.length===1?C=B[0]:C=new on,C!==B[0])for(let h=0,f=B.length;h<f;h++)C.add(B[h]);if(o.name&&(C.userData.name=o.name,C.name=s),Je(C,o),o.extensions&&ke(i,C,o),o.matrix!==void 0){const h=new Ve;h.fromArray(o.matrix),C.applyMatrix4(h)}else o.translation!==void 0&&C.position.fromArray(o.translation),o.rotation!==void 0&&C.quaternion.fromArray(o.rotation),o.scale!==void 0&&C.scale.fromArray(o.scale);return r.associations.has(C)||r.associations.set(C,{}),r.associations.get(C).nodes=e,C}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,o=new mt;i.name&&(o.name=r.createUniqueName(i.name)),Je(o,i),i.extensions&&ke(t,o,i);const s=i.nodes||[],c=[];for(let A=0,B=s.length;A<B;A++)c.push(r.getDependency("node",s[A]));return Promise.all(c).then(function(A){for(let C=0,h=A.length;C<h;C++)o.add(A[C]);const B=C=>{const h=new Map;for(const[f,I]of r.associations)(f instanceof Et||f instanceof Ht)&&h.set(f,I);return C.traverse(f=>{const I=r.associations.get(f);I!=null&&h.set(f,I)}),h};return r.associations=B(o),o})}_createAnimationTracks(e,t,i,r,o){const s=[],c=e.name?e.name:e.uuid,A=[];Oe[o.path]===Oe.weights?e.traverse(function(f){f.morphTargetInfluences&&A.push(f.name?f.name:f.uuid)}):A.push(c);let B;switch(Oe[o.path]){case Oe.weights:B=Qt;break;case Oe.rotation:B=Xt;break;case Oe.position:case Oe.scale:B=kt;break;default:switch(i.itemSize){case 1:B=Qt;break;case 2:case 3:default:B=kt;break}break}const C=r.interpolation!==void 0?Gs[r.interpolation]:cn,h=this._getArrayFromAccessor(i);for(let f=0,I=A.length;f<I;f++){const G=new B(A[f]+"."+Oe[o.path],t.array,h,C);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(G),s.push(G)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=Jt(t.constructor),r=new Float32Array(t.length);for(let o=0,s=t.length;o<s;o++)r[o]=t[o]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Xt?Is:mn;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Ss(u,e,t){const i=e.attributes,r=new Sr;if(i.POSITION!==void 0){const c=t.json.accessors[i.POSITION],A=c.min,B=c.max;if(A!==void 0&&B!==void 0){if(r.set(new De(A[0],A[1],A[2]),new De(B[0],B[1],B[2])),c.normalized){const C=Jt(We[c.componentType]);r.min.multiplyScalar(C),r.max.multiplyScalar(C)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const c=new De,A=new De;for(let B=0,C=o.length;B<C;B++){const h=o[B];if(h.POSITION!==void 0){const f=t.json.accessors[h.POSITION],I=f.min,G=f.max;if(I!==void 0&&G!==void 0){if(A.setX(Math.max(Math.abs(I[0]),Math.abs(G[0]))),A.setY(Math.max(Math.abs(I[1]),Math.abs(G[1]))),A.setZ(Math.max(Math.abs(I[2]),Math.abs(G[2]))),f.normalized){const m=Jt(We[f.componentType]);A.multiplyScalar(m)}c.max(A)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(c)}u.boundingBox=r;const s=new br;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,u.boundingSphere=s}function zt(u,e,t){const i=e.attributes,r=[];function o(s,c){return t.getDependency("accessor",s).then(function(A){u.setAttribute(c,A)})}for(const s in i){const c=Lt[s]||s.toLowerCase();c in u.attributes||r.push(o(i[s],c))}if(e.indices!==void 0&&!u.index){const s=t.getDependency("accessor",e.indices).then(function(c){u.setIndex(c)});r.push(s)}return Je(u,e),Ss(u,e,t),Promise.all(r).then(function(){return e.targets!==void 0?gs(u,e.targets,t):u})}class Us extends yt{constructor(e,t,i,r){super();const o=[],s=[],c=[],A=new De,B=new Ve;B.makeRotationFromEuler(i),B.setPosition(t);const C=new Ve;C.copy(B).invert(),h(),this.setAttribute("position",new Ft(o,3)),this.setAttribute("normal",new Ft(s,3)),this.setAttribute("uv",new Ft(c,2));function h(){let m,F=[];const M=new De,L=new De;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const b=e.geometry,_=b.attributes.position,X=b.attributes.normal;if(b.index!==null){const x=b.index;for(m=0;m<x.count;m++)M.fromBufferAttribute(_,x.getX(m)),L.fromBufferAttribute(X,x.getX(m)),f(F,M,L)}else for(m=0;m<_.count;m++)M.fromBufferAttribute(_,m),L.fromBufferAttribute(X,m),f(F,M,L);for(F=I(F,A.set(1,0,0)),F=I(F,A.set(-1,0,0)),F=I(F,A.set(0,1,0)),F=I(F,A.set(0,-1,0)),F=I(F,A.set(0,0,1)),F=I(F,A.set(0,0,-1)),m=0;m<F.length;m++){const x=F[m];c.push(.5+x.position.x/r.x,.5+x.position.y/r.y),x.position.applyMatrix4(B),o.push(x.position.x,x.position.y,x.position.z),s.push(x.normal.x,x.normal.y,x.normal.z)}}function f(m,F,M){F.applyMatrix4(e.matrixWorld),F.applyMatrix4(C),M.transformDirection(e.matrixWorld),m.push(new qt(F.clone(),M.clone()))}function I(m,F){const M=[],L=.5*Math.abs(r.dot(F));for(let b=0;b<m.length;b+=3){let _,X,x,ee=0,D,y,O,j;const Y=m[b+0].position.dot(F)-L,W=m[b+1].position.dot(F)-L,N=m[b+2].position.dot(F)-L;switch(_=Y>0,X=W>0,x=N>0,ee=(_?1:0)+(X?1:0)+(x?1:0),ee){case 0:{M.push(m[b]),M.push(m[b+1]),M.push(m[b+2]);break}case 1:{if(_&&(D=m[b+1],y=m[b+2],O=G(m[b],D,F,L),j=G(m[b],y,F,L)),X){D=m[b],y=m[b+2],O=G(m[b+1],D,F,L),j=G(m[b+1],y,F,L),M.push(O),M.push(y.clone()),M.push(D.clone()),M.push(y.clone()),M.push(O.clone()),M.push(j);break}x&&(D=m[b],y=m[b+1],O=G(m[b+2],D,F,L),j=G(m[b+2],y,F,L)),M.push(D.clone()),M.push(y.clone()),M.push(O),M.push(j),M.push(O.clone()),M.push(y.clone());break}case 2:{_||(D=m[b].clone(),y=G(D,m[b+1],F,L),O=G(D,m[b+2],F,L),M.push(D),M.push(y),M.push(O)),X||(D=m[b+1].clone(),y=G(D,m[b+2],F,L),O=G(D,m[b],F,L),M.push(D),M.push(y),M.push(O)),x||(D=m[b+2].clone(),y=G(D,m[b],F,L),O=G(D,m[b+1],F,L),M.push(D),M.push(y),M.push(O));break}}}return M}function G(m,F,M,L){const b=m.position.dot(M)-L,_=F.position.dot(M)-L,X=b/(b-_);return new qt(new De(m.position.x+X*(F.position.x-m.position.x),m.position.y+X*(F.position.y-m.position.y),m.position.z+X*(F.position.z-m.position.z)),new De(m.normal.x+X*(F.normal.x-m.normal.x),m.normal.y+X*(F.normal.y-m.normal.y),m.normal.z+X*(F.normal.z-m.normal.z)))}}}class qt{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}class ws extends ln{constructor(e){super(e),this.type=Ne}parse(e){const s=function(D,y){switch(D){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(y||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(y||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(y||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(y||""))}},C=`
`,h=function(D,y,O){y=y||1024;let Y=D.pos,W=-1,N=0,ie="",k=String.fromCharCode.apply(null,new Uint16Array(D.subarray(Y,Y+128)));for(;0>(W=k.indexOf(C))&&N<y&&Y<D.byteLength;)ie+=k,N+=k.length,Y+=128,k+=String.fromCharCode.apply(null,new Uint16Array(D.subarray(Y,Y+128)));return-1<W?(D.pos+=N+W+1,ie+k.slice(0,W)):!1},f=function(D){const y=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,j=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Y=/^\s*FORMAT=(\S+)\s*$/,W=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,N={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ie,k;for((D.pos>=D.byteLength||!(ie=h(D)))&&s(1,"no header found"),(k=ie.match(y))||s(3,"bad initial token"),N.valid|=1,N.programtype=k[1],N.string+=ie+`
`;ie=h(D),ie!==!1;){if(N.string+=ie+`
`,ie.charAt(0)==="#"){N.comments+=ie+`
`;continue}if((k=ie.match(O))&&(N.gamma=parseFloat(k[1])),(k=ie.match(j))&&(N.exposure=parseFloat(k[1])),(k=ie.match(Y))&&(N.valid|=2,N.format=k[1]),(k=ie.match(W))&&(N.valid|=4,N.height=parseInt(k[1],10),N.width=parseInt(k[2],10)),N.valid&2&&N.valid&4)break}return N.valid&2||s(3,"missing format specifier"),N.valid&4||s(3,"missing image size specifier"),N},I=function(D,y,O){const j=y;if(j<8||j>32767||D[0]!==2||D[1]!==2||D[2]&128)return new Uint8Array(D);j!==(D[2]<<8|D[3])&&s(3,"wrong scanline width");const Y=new Uint8Array(4*y*O);Y.length||s(4,"unable to allocate buffer space");let W=0,N=0;const ie=4*j,k=new Uint8Array(4),Me=new Uint8Array(ie);let Pe=O;for(;Pe>0&&N<D.byteLength;){N+4>D.byteLength&&s(1),k[0]=D[N++],k[1]=D[N++],k[2]=D[N++],k[3]=D[N++],(k[0]!=2||k[1]!=2||(k[2]<<8|k[3])!=j)&&s(3,"bad rgbe scanline format");let ge=0,re;for(;ge<ie&&N<D.byteLength;){re=D[N++];const ae=re>128;if(ae&&(re-=128),(re===0||ge+re>ie)&&s(3,"bad scanline data"),ae){const ue=D[N++];for(let Te=0;Te<re;Te++)Me[ge++]=ue}else Me.set(D.subarray(N,N+re),ge),ge+=re,N+=re}const Ue=j;for(let ae=0;ae<Ue;ae++){let ue=0;Y[W]=Me[ae+ue],ue+=j,Y[W+1]=Me[ae+ue],ue+=j,Y[W+2]=Me[ae+ue],ue+=j,Y[W+3]=Me[ae+ue],W+=4}Pe--}return Y},G=function(D,y,O,j){const Y=D[y+3],W=Math.pow(2,Y-128)/255;O[j+0]=D[y+0]*W,O[j+1]=D[y+1]*W,O[j+2]=D[y+2]*W,O[j+3]=1},m=function(D,y,O,j){const Y=D[y+3],W=Math.pow(2,Y-128)/255;O[j+0]=Ye.toHalfFloat(Math.min(D[y+0]*W,65504)),O[j+1]=Ye.toHalfFloat(Math.min(D[y+1]*W,65504)),O[j+2]=Ye.toHalfFloat(Math.min(D[y+2]*W,65504)),O[j+3]=Ye.toHalfFloat(1)},F=new Uint8Array(e);F.pos=0;const M=f(F),L=M.width,b=M.height,_=I(F.subarray(F.pos),L,b);let X,x,ee;switch(this.type){case je:ee=_.length/4;const D=new Float32Array(ee*4);for(let O=0;O<ee;O++)G(_,O*4,D,O*4);X=D,x=je;break;case Ne:ee=_.length/4;const y=new Uint16Array(ee*4);for(let O=0;O<ee;O++)m(_,O*4,y,O*4);X=y,x=Ne;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:L,height:b,data:X,header:M.string,gamma:M.gamma,exposure:M.exposure,type:x}}setDataType(e){return this.type=e,this}load(e,t,i,r){function o(s,c){switch(s.type){case je:case Ne:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=ze,s.magFilter=ze,s.generateMipmaps=!1,s.flipY=!0;break}t&&t(s,c)}return super.load(e,o,i,r)}}const ot="colorSpace"in new Ht;class _s extends ln{constructor(e){super(e),this.type=Ne}parse(e){const y=Math.pow(2.7182818,2.2);function O(n,a){for(var l=0,d=0;d<65536;++d)(d==0||n[d>>3]&1<<(d&7))&&(a[l++]=d);for(var p=l-1;l<65536;)a[l++]=0;return p}function j(n){for(var a=0;a<16384;a++)n[a]={},n[a].len=0,n[a].lit=0,n[a].p=null}const Y={l:0,c:0,lc:0};function W(n,a,l,d,p){for(;l<n;)a=a<<8|Pt(d,p),l+=8;l-=n,Y.l=a>>l&(1<<n)-1,Y.c=a,Y.lc=l}const N=new Array(59);function ie(n){for(var a=0;a<=58;++a)N[a]=0;for(var a=0;a<65537;++a)N[n[a]]+=1;for(var l=0,a=58;a>0;--a){var d=l+N[a]>>1;N[a]=l,l=d}for(var a=0;a<65537;++a){var p=n[a];p>0&&(n[a]=p|N[p]++<<6)}}function k(n,a,l,d,p,E,R){for(var g=l,H=0,v=0;p<=E;p++){if(g.value-l.value>d)return!1;W(6,H,v,n,g);var S=Y.l;if(H=Y.c,v=Y.lc,R[p]=S,S==63){if(g.value-l.value>d)throw"Something wrong with hufUnpackEncTable";W(8,H,v,n,g);var T=Y.l+6;if(H=Y.c,v=Y.lc,p+T>E+1)throw"Something wrong with hufUnpackEncTable";for(;T--;)R[p++]=0;p--}else if(S>=59){var T=S-59+2;if(p+T>E+1)throw"Something wrong with hufUnpackEncTable";for(;T--;)R[p++]=0;p--}}ie(R)}function Me(n){return n&63}function Pe(n){return n>>6}function ge(n,a,l,d){for(;a<=l;a++){var p=Pe(n[a]),E=Me(n[a]);if(p>>E)throw"Invalid table entry";if(E>14){var R=d[p>>E-14];if(R.len)throw"Invalid table entry";if(R.lit++,R.p){var g=R.p;R.p=new Array(R.lit);for(var H=0;H<R.lit-1;++H)R.p[H]=g[H]}else R.p=new Array(1);R.p[R.lit-1]=a}else if(E)for(var v=0,H=1<<14-E;H>0;H--){var R=d[(p<<14-E)+v];if(R.len||R.p)throw"Invalid table entry";R.len=E,R.lit=a,v++}}return!0}const re={c:0,lc:0};function Ue(n,a,l,d){n=n<<8|Pt(l,d),a+=8,re.c=n,re.lc=a}const ae={c:0,lc:0};function ue(n,a,l,d,p,E,R,g,H,v){if(n==a){d<8&&(Ue(l,d,p,R),l=re.c,d=re.lc),d-=8;var S=l>>d,S=new Uint8Array([S])[0];if(H.value+S>v)return!1;for(var T=g[H.value-1];S-- >0;)g[H.value++]=T}else if(H.value<v)g[H.value++]=n;else return!1;ae.c=l,ae.lc=d}function Te(n){return n&65535}function qe(n){var a=Te(n);return a>32767?a-65536:a}const z={a:0,b:0};function Se(n,a){var l=qe(n),d=qe(a),p=d,E=l+(p&1)+(p>>1),R=E,g=E-p;z.a=R,z.b=g}function be(n,a){var l=Te(n),d=Te(a),p=l-(d>>1)&65535,E=d+p-32768&65535;z.a=E,z.b=p}function Fn(n,a,l,d,p,E,R){for(var g=R<16384,H=l>p?p:l,v=1,S;v<=H;)v<<=1;for(v>>=1,S=v,v>>=1;v>=1;){for(var T=0,ce=T+E*(p-S),U=E*v,w=E*S,P=d*v,K=d*S,q,te,Be,fe;T<=ce;T+=w){for(var ne=T,ve=T+d*(l-S);ne<=ve;ne+=K){var se=ne+P,le=ne+U,Le=le+P;g?(Se(n[ne+a],n[le+a]),q=z.a,Be=z.b,Se(n[se+a],n[Le+a]),te=z.a,fe=z.b,Se(q,te),n[ne+a]=z.a,n[se+a]=z.b,Se(Be,fe),n[le+a]=z.a,n[Le+a]=z.b):(be(n[ne+a],n[le+a]),q=z.a,Be=z.b,be(n[se+a],n[Le+a]),te=z.a,fe=z.b,be(q,te),n[ne+a]=z.a,n[se+a]=z.b,be(Be,fe),n[le+a]=z.a,n[Le+a]=z.b)}if(l&v){var le=ne+U;g?Se(n[ne+a],n[le+a]):be(n[ne+a],n[le+a]),q=z.a,n[le+a]=z.b,n[ne+a]=q}}if(p&v)for(var ne=T,ve=T+d*(l-S);ne<=ve;ne+=K){var se=ne+P;g?Se(n[ne+a],n[se+a]):be(n[ne+a],n[se+a]),q=z.a,n[se+a]=z.b,n[ne+a]=q}S=v,v>>=1}return T}function In(n,a,l,d,p,E,R,g,H,v){for(var S=0,T=0,ce=g,U=Math.trunc(p.value+(E+7)/8);p.value<U;)for(Ue(S,T,l,p),S=re.c,T=re.lc;T>=14;){var w=S>>T-14&16383,P=a[w];if(P.len)T-=P.len,ue(P.lit,R,S,T,l,d,p,H,v,ce),S=ae.c,T=ae.lc;else{if(!P.p)throw"hufDecode issues";var K;for(K=0;K<P.lit;K++){for(var q=Me(n[P.p[K]]);T<q&&p.value<U;)Ue(S,T,l,p),S=re.c,T=re.lc;if(T>=q&&Pe(n[P.p[K]])==(S>>T-q&(1<<q)-1)){T-=q,ue(P.p[K],R,S,T,l,d,p,H,v,ce),S=ae.c,T=ae.lc;break}}if(K==P.lit)throw"hufDecode issues"}}var te=8-E&7;for(S>>=te,T-=te;T>0;){var P=a[S<<14-T&16383];if(P.len)T-=P.len,ue(P.lit,R,S,T,l,d,p,H,v,ce),S=ae.c,T=ae.lc;else throw"hufDecode issues"}return!0}function Ut(n,a,l,d,p,E){var R={value:0},g=l.value,H=de(a,l),v=de(a,l);l.value+=4;var S=de(a,l);if(l.value+=4,H<0||H>=65537||v<0||v>=65537)throw"Something wrong with HUF_ENCSIZE";var T=new Array(65537),ce=new Array(16384);j(ce);var U=d-(l.value-g);if(k(n,a,l,U,H,v,T),S>8*(d-(l.value-g)))throw"Something wrong with hufUncompress";ge(T,H,v,ce),In(T,ce,n,a,l,S,v,E,p,R)}function Gn(n,a,l){for(var d=0;d<l;++d)a[d]=n[a[d]]}function wt(n){for(var a=1;a<n.length;a++){var l=n[a-1]+n[a]-128;n[a]=l}}function _t(n,a){for(var l=0,d=Math.floor((n.length+1)/2),p=0,E=n.length-1;!(p>E||(a[p++]=n[l++],p>E));)a[p++]=n[d++]}function Ot(n){for(var a=n.byteLength,l=new Array,d=0,p=new DataView(n);a>0;){var E=p.getInt8(d++);if(E<0){var R=-E;a-=R+1;for(var g=0;g<R;g++)l.push(p.getUint8(d++))}else{var R=E;a-=2;for(var H=p.getUint8(d++),g=0;g<R+1;g++)l.push(H)}}return l}function Mn(n,a,l,d,p,E){var se=new DataView(E.buffer),R=l[n.idx[0]].width,g=l[n.idx[0]].height,H=3,v=Math.floor(R/8),S=Math.ceil(R/8),T=Math.ceil(g/8),ce=R-(S-1)*8,U=g-(T-1)*8,w={value:0},P=new Array(H),K=new Array(H),q=new Array(H),te=new Array(H),Be=new Array(H);for(let $=0;$<H;++$)Be[$]=a[n.idx[$]],P[$]=$<1?0:P[$-1]+S*T,K[$]=new Float32Array(64),q[$]=new Uint16Array(64),te[$]=new Uint16Array(S*64);for(let $=0;$<T;++$){var fe=8;$==T-1&&(fe=U);var ne=8;for(let Ae=0;Ae<S;++Ae){Ae==S-1&&(ne=ce);for(let V=0;V<H;++V)q[V].fill(0),q[V][0]=p[P[V]++],gn(w,d,q[V]),Rn(q[V],K[V]),Dn(K[V]);Tn(K);for(let V=0;V<H;++V)vn(K[V],te[V],Ae*64)}let Ce=0;for(let Ae=0;Ae<H;++Ae){const V=l[n.idx[Ae]].type;for(let Fe=8*$;Fe<8*$+fe;++Fe){Ce=Be[Ae][Fe];for(let Ke=0;Ke<v;++Ke){const pe=Ke*64+(Fe&7)*8;se.setUint16(Ce+0*2*V,te[Ae][pe+0],!0),se.setUint16(Ce+1*2*V,te[Ae][pe+1],!0),se.setUint16(Ce+2*2*V,te[Ae][pe+2],!0),se.setUint16(Ce+3*2*V,te[Ae][pe+3],!0),se.setUint16(Ce+4*2*V,te[Ae][pe+4],!0),se.setUint16(Ce+5*2*V,te[Ae][pe+5],!0),se.setUint16(Ce+6*2*V,te[Ae][pe+6],!0),se.setUint16(Ce+7*2*V,te[Ae][pe+7],!0),Ce+=8*2*V}}if(v!=S)for(let Fe=8*$;Fe<8*$+fe;++Fe){const Ke=Be[Ae][Fe]+8*v*2*V,pe=v*64+(Fe&7)*8;for(let we=0;we<ne;++we)se.setUint16(Ke+we*2*V,te[Ae][pe+we],!0)}}}for(var ve=new Uint16Array(R),se=new DataView(E.buffer),le=0;le<H;++le){l[n.idx[le]].decoded=!0;var Le=l[n.idx[le]].type;if(l[le].type==2)for(var rt=0;rt<g;++rt){const $=Be[le][rt];for(var me=0;me<R;++me)ve[me]=se.getUint16($+me*2*Le,!0);for(var me=0;me<R;++me)se.setFloat32($+me*2*Le,J(ve[me]),!0)}}}function gn(n,a,l){for(var d,p=1;p<64;)d=a[n.value],d==65280?p=64:d>>8==255?p+=d&255:(l[p]=d,p++),n.value++}function Rn(n,a){a[0]=J(n[0]),a[1]=J(n[1]),a[2]=J(n[5]),a[3]=J(n[6]),a[4]=J(n[14]),a[5]=J(n[15]),a[6]=J(n[27]),a[7]=J(n[28]),a[8]=J(n[2]),a[9]=J(n[4]),a[10]=J(n[7]),a[11]=J(n[13]),a[12]=J(n[16]),a[13]=J(n[26]),a[14]=J(n[29]),a[15]=J(n[42]),a[16]=J(n[3]),a[17]=J(n[8]),a[18]=J(n[12]),a[19]=J(n[17]),a[20]=J(n[25]),a[21]=J(n[30]),a[22]=J(n[41]),a[23]=J(n[43]),a[24]=J(n[9]),a[25]=J(n[11]),a[26]=J(n[18]),a[27]=J(n[24]),a[28]=J(n[31]),a[29]=J(n[40]),a[30]=J(n[44]),a[31]=J(n[53]),a[32]=J(n[10]),a[33]=J(n[19]),a[34]=J(n[23]),a[35]=J(n[32]),a[36]=J(n[39]),a[37]=J(n[45]),a[38]=J(n[52]),a[39]=J(n[54]),a[40]=J(n[20]),a[41]=J(n[22]),a[42]=J(n[33]),a[43]=J(n[38]),a[44]=J(n[46]),a[45]=J(n[51]),a[46]=J(n[55]),a[47]=J(n[60]),a[48]=J(n[21]),a[49]=J(n[34]),a[50]=J(n[37]),a[51]=J(n[47]),a[52]=J(n[50]),a[53]=J(n[56]),a[54]=J(n[59]),a[55]=J(n[61]),a[56]=J(n[35]),a[57]=J(n[36]),a[58]=J(n[48]),a[59]=J(n[49]),a[60]=J(n[57]),a[61]=J(n[58]),a[62]=J(n[62]),a[63]=J(n[63])}function Dn(n){const a=.5*Math.cos(.7853975),l=.5*Math.cos(3.14159/16),d=.5*Math.cos(3.14159/8),p=.5*Math.cos(3*3.14159/16),E=.5*Math.cos(5*3.14159/16),R=.5*Math.cos(3*3.14159/8),g=.5*Math.cos(7*3.14159/16);for(var H=new Array(4),v=new Array(4),S=new Array(4),T=new Array(4),ce=0;ce<8;++ce){var U=ce*8;H[0]=d*n[U+2],H[1]=R*n[U+2],H[2]=d*n[U+6],H[3]=R*n[U+6],v[0]=l*n[U+1]+p*n[U+3]+E*n[U+5]+g*n[U+7],v[1]=p*n[U+1]-g*n[U+3]-l*n[U+5]-E*n[U+7],v[2]=E*n[U+1]-l*n[U+3]+g*n[U+5]+p*n[U+7],v[3]=g*n[U+1]-E*n[U+3]+p*n[U+5]-l*n[U+7],S[0]=a*(n[U+0]+n[U+4]),S[3]=a*(n[U+0]-n[U+4]),S[1]=H[0]+H[3],S[2]=H[1]-H[2],T[0]=S[0]+S[1],T[1]=S[3]+S[2],T[2]=S[3]-S[2],T[3]=S[0]-S[1],n[U+0]=T[0]+v[0],n[U+1]=T[1]+v[1],n[U+2]=T[2]+v[2],n[U+3]=T[3]+v[3],n[U+4]=T[3]-v[3],n[U+5]=T[2]-v[2],n[U+6]=T[1]-v[1],n[U+7]=T[0]-v[0]}for(var w=0;w<8;++w)H[0]=d*n[16+w],H[1]=R*n[16+w],H[2]=d*n[48+w],H[3]=R*n[48+w],v[0]=l*n[8+w]+p*n[24+w]+E*n[40+w]+g*n[56+w],v[1]=p*n[8+w]-g*n[24+w]-l*n[40+w]-E*n[56+w],v[2]=E*n[8+w]-l*n[24+w]+g*n[40+w]+p*n[56+w],v[3]=g*n[8+w]-E*n[24+w]+p*n[40+w]-l*n[56+w],S[0]=a*(n[w]+n[32+w]),S[3]=a*(n[w]-n[32+w]),S[1]=H[0]+H[3],S[2]=H[1]-H[2],T[0]=S[0]+S[1],T[1]=S[3]+S[2],T[2]=S[3]-S[2],T[3]=S[0]-S[1],n[0+w]=T[0]+v[0],n[8+w]=T[1]+v[1],n[16+w]=T[2]+v[2],n[24+w]=T[3]+v[3],n[32+w]=T[3]-v[3],n[40+w]=T[2]-v[2],n[48+w]=T[1]-v[1],n[56+w]=T[0]-v[0]}function Tn(n){for(var a=0;a<64;++a){var l=n[0][a],d=n[1][a],p=n[2][a];n[0][a]=l+1.5747*p,n[1][a]=l-.1873*d-.4682*p,n[2][a]=l+1.8556*d}}function vn(n,a,l){for(var d=0;d<64;++d)a[l+d]=Ye.toHalfFloat(Hn(n[d]))}function Hn(n){return n<=1?Math.sign(n)*Math.pow(Math.abs(n),2.2):Math.sign(n)*Math.pow(y,Math.abs(n)-1)}function Nt(n){return new DataView(n.array.buffer,n.offset.value,n.size)}function Sn(n){var a=n.viewer.buffer.slice(n.offset.value,n.offset.value+n.size),l=new Uint8Array(Ot(a)),d=new Uint8Array(l.length);return wt(l),_t(l,d),new DataView(d.buffer)}function pt(n){var a=n.array.slice(n.offset.value,n.offset.value+n.size),l=ht(a),d=new Uint8Array(l.length);return wt(l),_t(l,d),new DataView(d.buffer)}function bn(n){for(var a=n.viewer,l={value:n.offset.value},d=new Uint16Array(n.width*n.scanlineBlockSize*(n.channels*n.type)),p=new Uint8Array(8192),E=0,R=new Array(n.channels),g=0;g<n.channels;g++)R[g]={},R[g].start=E,R[g].end=R[g].start,R[g].nx=n.width,R[g].ny=n.lines,R[g].size=n.type,E+=R[g].nx*R[g].ny*R[g].size;var H=et(a,l),v=et(a,l);if(v>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(H<=v)for(var g=0;g<v-H+1;g++)p[g+H]=Ze(a,l);var S=new Uint16Array(65536),T=O(p,S),ce=de(a,l);Ut(n.array,a,l,ce,d,E);for(var g=0;g<n.channels;++g)for(var U=R[g],w=0;w<R[g].size;++w)Fn(d,U.start+w,U.nx,U.size,U.ny,U.nx*U.size,T);Gn(S,d,E);for(var P=0,K=new Uint8Array(d.buffer.byteLength),q=0;q<n.lines;q++)for(var te=0;te<n.channels;te++){var U=R[te],Be=U.nx*U.size,fe=new Uint8Array(d.buffer,U.end*2,Be*2);K.set(fe,P),P+=Be*2,U.end+=Be}return new DataView(K.buffer)}function Ln(n){var a=n.array.slice(n.offset.value,n.offset.value+n.size),l=ht(a);const d=n.lines*n.channels*n.width,p=n.type==1?new Uint16Array(d):new Uint32Array(d);let E=0,R=0;const g=new Array(4);for(let H=0;H<n.lines;H++)for(let v=0;v<n.channels;v++){let S=0;switch(n.type){case 1:g[0]=E,g[1]=g[0]+n.width,E=g[1]+n.width;for(let T=0;T<n.width;++T){const ce=l[g[0]++]<<8|l[g[1]++];S+=ce,p[R]=S,R++}break;case 2:g[0]=E,g[1]=g[0]+n.width,g[2]=g[1]+n.width,E=g[2]+n.width;for(let T=0;T<n.width;++T){const ce=l[g[0]++]<<24|l[g[1]++]<<16|l[g[2]++]<<8;S+=ce,p[R]=S,R++}break}}return new DataView(p.buffer)}function xt(n){var a=n.viewer,l={value:n.offset.value},d=new Uint8Array(n.width*n.lines*(n.channels*n.type*2)),p={version:Ee(a,l),unknownUncompressedSize:Ee(a,l),unknownCompressedSize:Ee(a,l),acCompressedSize:Ee(a,l),dcCompressedSize:Ee(a,l),rleCompressedSize:Ee(a,l),rleUncompressedSize:Ee(a,l),rleRawSize:Ee(a,l),totalAcUncompressedCount:Ee(a,l),totalDcUncompressedCount:Ee(a,l),acCompression:Ee(a,l)};if(p.version<2)throw"EXRLoader.parse: "+nt.compression+" version "+p.version+" is unsupported";for(var E=new Array,R=et(a,l)-2;R>0;){var g=lt(a.buffer,l),H=Ze(a,l),v=H>>2&3,S=(H>>4)-1,T=new Int8Array([S])[0],ce=Ze(a,l);E.push({name:g,index:T,type:ce,compression:v}),R-=g.length+3}for(var U=nt.channels,w=new Array(n.channels),P=0;P<n.channels;++P){var K=w[P]={},q=U[P];K.name=q.name,K.compression=0,K.decoded=!1,K.type=q.pixelType,K.pLinear=q.pLinear,K.width=n.width,K.height=n.lines}for(var te={idx:new Array(3)},Be=0;Be<n.channels;++Be)for(var K=w[Be],P=0;P<E.length;++P){var fe=E[P];K.name==fe.name&&(K.compression=fe.compression,fe.index>=0&&(te.idx[fe.index]=Be),K.offset=Be)}if(p.acCompressedSize>0)switch(p.acCompression){case 0:var se=new Uint16Array(p.totalAcUncompressedCount);Ut(n.array,a,l,p.acCompressedSize,se,p.totalAcUncompressedCount);break;case 1:var ne=n.array.slice(l.value,l.value+p.totalAcUncompressedCount),ve=ht(ne),se=new Uint16Array(ve.buffer);l.value+=p.totalAcUncompressedCount;break}if(p.dcCompressedSize>0){var le={array:n.array,offset:l,size:p.dcCompressedSize},Le=new Uint16Array(pt(le).buffer);l.value+=p.dcCompressedSize}if(p.rleRawSize>0){var ne=n.array.slice(l.value,l.value+p.rleCompressedSize),ve=ht(ne),rt=Ot(ve.buffer);l.value+=p.rleCompressedSize}for(var me=0,$=new Array(w.length),P=0;P<$.length;++P)$[P]=new Array;for(var Ce=0;Ce<n.lines;++Ce)for(var Ae=0;Ae<w.length;++Ae)$[Ae].push(me),me+=w[Ae].width*n.type*2;Mn(te,$,w,se,Le,d);for(var P=0;P<w.length;++P){var K=w[P];if(!K.decoded)switch(K.compression){case 2:for(var V=0,Fe=0,Ce=0;Ce<n.lines;++Ce){for(var Ke=$[P][V],pe=0;pe<K.width;++pe){for(var we=0;we<2*K.type;++we)d[Ke++]=rt[Fe+we*K.width*K.height];Fe++}V++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(d.buffer)}function lt(n,a){for(var l=new Uint8Array(n),d=0;l[a.value+d]!=0;)d+=1;var p=new TextDecoder().decode(l.slice(a.value,a.value+d));return a.value=a.value+d+1,p}function Jn(n,a,l){var d=new TextDecoder().decode(new Uint8Array(n).slice(a.value,a.value+l));return a.value=a.value+l,d}function yn(n,a){var l=$e(n,a),d=de(n,a);return[l,d]}function Un(n,a){var l=de(n,a),d=de(n,a);return[l,d]}function $e(n,a){var l=n.getInt32(a.value,!0);return a.value=a.value+4,l}function de(n,a){var l=n.getUint32(a.value,!0);return a.value=a.value+4,l}function Pt(n,a){var l=n[a.value];return a.value=a.value+1,l}function Ze(n,a){var l=n.getUint8(a.value);return a.value=a.value+1,l}const Ee=function(n,a){let l;return"getBigInt64"in DataView.prototype?l=Number(n.getBigInt64(a.value,!0)):l=n.getUint32(a.value+4,!0)+Number(n.getUint32(a.value,!0)<<32),a.value+=8,l};function he(n,a){var l=n.getFloat32(a.value,!0);return a.value+=4,l}function wn(n,a){return Ye.toHalfFloat(he(n,a))}function J(n){var a=(n&31744)>>10,l=n&1023;return(n>>15?-1:1)*(a?a===31?l?NaN:1/0:Math.pow(2,a-15)*(1+l/1024):6103515625e-14*(l/1024))}function et(n,a){var l=n.getUint16(a.value,!0);return a.value+=2,l}function _n(n,a){return J(et(n,a))}function On(n,a,l,d){for(var p=l.value,E=[];l.value<p+d-1;){var R=lt(a,l),g=$e(n,l),H=Ze(n,l);l.value+=3;var v=$e(n,l),S=$e(n,l);E.push({name:R,pixelType:g,pLinear:H,xSampling:v,ySampling:S})}return l.value+=1,E}function Nn(n,a){var l=he(n,a),d=he(n,a),p=he(n,a),E=he(n,a),R=he(n,a),g=he(n,a),H=he(n,a),v=he(n,a);return{redX:l,redY:d,greenX:p,greenY:E,blueX:R,blueY:g,whiteX:H,whiteY:v}}function xn(n,a){var l=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],d=Ze(n,a);return l[d]}function Pn(n,a){var l=de(n,a),d=de(n,a),p=de(n,a),E=de(n,a);return{xMin:l,yMin:d,xMax:p,yMax:E}}function Kn(n,a){var l=["INCREASING_Y"],d=Ze(n,a);return l[d]}function kn(n,a){var l=he(n,a),d=he(n,a);return[l,d]}function Qn(n,a){var l=he(n,a),d=he(n,a),p=he(n,a);return[l,d,p]}function Xn(n,a,l,d,p){if(d==="string"||d==="stringvector"||d==="iccProfile")return Jn(a,l,p);if(d==="chlist")return On(n,a,l,p);if(d==="chromaticities")return Nn(n,l);if(d==="compression")return xn(n,l);if(d==="box2i")return Pn(n,l);if(d==="lineOrder")return Kn(n,l);if(d==="float")return he(n,l);if(d==="v2f")return kn(n,l);if(d==="v3f")return Qn(n,l);if(d==="int")return $e(n,l);if(d==="rational")return yn(n,l);if(d==="timecode")return Un(n,l);if(d==="preview")return l.value+=p,"skipped";l.value+=p}function Zn(n,a,l){const d={};if(n.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";d.version=n.getUint8(4);const p=n.getUint8(5);d.spec={singleTile:!!(p&2),longName:!!(p&4),deepFormat:!!(p&8),multiPart:!!(p&16)},l.value=8;for(var E=!0;E;){var R=lt(a,l);if(R==0)E=!1;else{var g=lt(a,l),H=de(n,l),v=Xn(n,a,l,g,H);v===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${g}'.`):d[R]=v}}if(p&-5)throw console.error("EXRHeader:",d),"THREE.EXRLoader: provided file is currently unsupported.";return d}function Yn(n,a,l,d,p){const E={size:0,viewer:a,array:l,offset:d,width:n.dataWindow.xMax-n.dataWindow.xMin+1,height:n.dataWindow.yMax-n.dataWindow.yMin+1,channels:n.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:n.channels[0].pixelType,uncompress:null,getter:null,format:null,[ot?"colorSpace":"encoding"]:null};switch(n.compression){case"NO_COMPRESSION":E.lines=1,E.uncompress=Nt;break;case"RLE_COMPRESSION":E.lines=1,E.uncompress=Sn;break;case"ZIPS_COMPRESSION":E.lines=1,E.uncompress=pt;break;case"ZIP_COMPRESSION":E.lines=16,E.uncompress=pt;break;case"PIZ_COMPRESSION":E.lines=32,E.uncompress=bn;break;case"PXR24_COMPRESSION":E.lines=16,E.uncompress=Ln;break;case"DWAA_COMPRESSION":E.lines=32,E.uncompress=xt;break;case"DWAB_COMPRESSION":E.lines=256,E.uncompress=xt;break;default:throw"EXRLoader.parse: "+n.compression+" is unsupported"}if(E.scanlineBlockSize=E.lines,E.type==1)switch(p){case je:E.getter=_n,E.inputSize=2;break;case Ne:E.getter=et,E.inputSize=2;break}else if(E.type==2)switch(p){case je:E.getter=he,E.inputSize=4;break;case Ne:E.getter=wn,E.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+E.type+" for "+n.compression+".";E.blockCount=(n.dataWindow.yMax+1)/E.scanlineBlockSize;for(var R=0;R<E.blockCount;R++)Ee(a,d);E.outputChannels=E.channels==3?4:E.channels;const g=E.width*E.height*E.outputChannels;switch(p){case je:E.byteArray=new Float32Array(g),E.channels<E.outputChannels&&E.byteArray.fill(1,0,g);break;case Ne:E.byteArray=new Uint16Array(g),E.channels<E.outputChannels&&E.byteArray.fill(15360,0,g);break;default:console.error("THREE.EXRLoader: unsupported type: ",p);break}return E.bytesPerLine=E.width*E.inputSize*E.channels,E.outputChannels==4?E.format=Jr:E.format=yr,ot?E.colorSpace="srgb-linear":E.encoding=3e3,E}const ut=new DataView(e),jn=new Uint8Array(e),tt={value:0},nt=Zn(ut,e,tt),Z=Yn(nt,ut,jn,tt,this.type),Kt={value:0},Wn={R:0,G:1,B:2,A:3,Y:0};for(let n=0;n<Z.height/Z.scanlineBlockSize;n++){const a=de(ut,tt);Z.size=de(ut,tt),Z.lines=a+Z.scanlineBlockSize>Z.height?Z.height-a:Z.scanlineBlockSize;const d=Z.size<Z.lines*Z.bytesPerLine?Z.uncompress(Z):Nt(Z);tt.value+=Z.size;for(let p=0;p<Z.scanlineBlockSize;p++){const E=p+n*Z.scanlineBlockSize;if(E>=Z.height)break;for(let R=0;R<Z.channels;R++){const g=Wn[nt.channels[R].name];for(let H=0;H<Z.width;H++){Kt.value=(p*(Z.channels*Z.width)+R*Z.width+H)*Z.inputSize;const v=(Z.height-1-E)*(Z.width*Z.outputChannels)+H*Z.outputChannels+g;Z.byteArray[v]=Z.getter(d,Kt)}}}}return{header:nt,width:Z.width,height:Z.height,data:Z.byteArray,format:Z.format,[ot?"colorSpace":"encoding"]:Z[ot?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function o(s,c){ot?s.colorSpace=c.colorSpace:s.encoding=c.encoding,s.minFilter=ze,s.magFilter=ze,s.generateMipmaps=!1,s.flipY=!1,t&&t(s,c)}return super.load(e,o,i,r)}}const Dt=new WeakMap;class Os extends rn{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const o=new ft(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,s=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,c).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const o={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const A in t.attributeTypes){const B=t.attributeTypes[A];B.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[A]=B.name)}const i=JSON.stringify(t);if(Dt.has(e)){const A=Dt.get(e);if(A.key===i)return A.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const o=this.workerNextTaskID++,s=e.byteLength,c=this._getWorker(o,s).then(A=>(r=A,new Promise((B,C)=>{r._callbacks[o]={resolve:B,reject:C},r.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(A=>this._createGeometry(A.geometry));return c.catch(()=>!0).then(()=>{r&&o&&this._releaseTask(r,o)}),Dt.set(e,{key:i,promise:c}),c}_createGeometry(e){const t=new yt;e.index&&t.setIndex(new At(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],o=r.name,s=r.array,c=r.itemSize;t.setAttribute(o,new At(s,c))}return t}_loadLibrary(e,t){const i=new ft(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,o)=>{i.load(e,r,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const o=bs.toString(),s=["/* draco decoder */",r,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(o){const s=o.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,o){return r._taskLoad>o._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function bs(){let u,e;onmessage=function(s){const c=s.data;switch(c.type){case"init":u=c.decoderConfig,e=new Promise(function(C){u.onModuleLoaded=function(h){C({draco:h})},DracoDecoderModule(u)});break;case"decode":const A=c.buffer,B=c.taskConfig;e.then(C=>{const h=C.draco,f=new h.Decoder,I=new h.DecoderBuffer;I.Init(new Int8Array(A),A.byteLength);try{const G=t(h,f,I,B),m=G.attributes.map(F=>F.array.buffer);G.index&&m.push(G.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:G},m)}catch(G){console.error(G),self.postMessage({type:"error",id:c.id,error:G.message})}finally{h.destroy(I),h.destroy(f)}});break}};function t(s,c,A,B){const C=B.attributeIDs,h=B.attributeTypes;let f,I;const G=c.GetEncodedGeometryType(A);if(G===s.TRIANGULAR_MESH)f=new s.Mesh,I=c.DecodeBufferToMesh(A,f);else if(G===s.POINT_CLOUD)f=new s.PointCloud,I=c.DecodeBufferToPointCloud(A,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!I.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+I.error_msg());const m={index:null,attributes:[]};for(const F in C){const M=self[h[F]];let L,b;if(B.useUniqueIDs)b=C[F],L=c.GetAttributeByUniqueId(f,b);else{if(b=c.GetAttributeId(f,s[C[F]]),b===-1)continue;L=c.GetAttribute(f,b)}m.attributes.push(r(s,c,f,F,M,L))}return G===s.TRIANGULAR_MESH&&(m.index=i(s,c,f)),s.destroy(f),m}function i(s,c,A){const C=A.num_faces()*3,h=C*4,f=s._malloc(h);c.GetTrianglesUInt32Array(A,h,f);const I=new Uint32Array(s.HEAPF32.buffer,f,C).slice();return s._free(f),{array:I,itemSize:1}}function r(s,c,A,B,C,h){const f=h.num_components(),G=A.num_points()*f,m=G*C.BYTES_PER_ELEMENT,F=o(s,C),M=s._malloc(m);c.GetAttributeDataArrayForAllPoints(A,h,F,m,M);const L=new C(s.HEAPF32.buffer,M,G).slice();return s._free(M),{name:B,array:L,itemSize:f}}function o(s,c){switch(c){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let Ct;const Ns=()=>{if(Ct)return Ct;const u="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="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",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=u;WebAssembly.validate(t)&&(r=e);let o;const s=WebAssembly.instantiate(c(r),{}).then(h=>{o=h.instance,o.exports.__wasm_call_ctors()});function c(h){const f=new Uint8Array(h.length);for(let G=0;G<h.length;++G){const m=h.charCodeAt(G);f[G]=m>96?m-71:m>64?m-65:m>47?m+4:m>46?63:62}let I=0;for(let G=0;G<h.length;++G)f[I++]=f[G]<60?i[f[G]]:(f[G]-60)*64+f[++G];return f.buffer.slice(0,I)}function A(h,f,I,G,m,F){const M=o.exports.sbrk,L=I+3&-4,b=M(L*G),_=M(m.length),X=new Uint8Array(o.exports.memory.buffer);X.set(m,_);const x=h(b,I,G,_,m.length);if(x===0&&F&&F(b,L,G),f.set(X.subarray(b,b+I*G)),M(b-M(0)),x!==0)throw new Error(`Malformed buffer data: ${x}`)}const B={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},C={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Ct={ready:s,supported:!0,decodeVertexBuffer(h,f,I,G,m){A(o.exports.meshopt_decodeVertexBuffer,h,f,I,G,o.exports[B[m]])},decodeIndexBuffer(h,f,I,G){A(o.exports.meshopt_decodeIndexBuffer,h,f,I,G)},decodeIndexSequence(h,f,I,G){A(o.exports.meshopt_decodeIndexSequence,h,f,I,G)},decodeGltfBuffer(h,f,I,G,m,F){A(o.exports[C[m]],h,f,I,G,o.exports[B[F]])}},Ct};export{Us as D,_s as E,ys as G,Ns as M,ws as R,Os as a,Js as b};
